{"version":3,"sources":["../source/PageAndMenu.js"],"names":["React","Component","PropTypes","PageAndMenu","hide_menu_on_mouse_down","bind","props","children","rest","event","menu","menu_button","element","contains","target","hide","context","react_responsive_ui_menu","toggle","register","Error","undefined","register_menu_button","childContextTypes","shape","func","isRequired"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;;IAEqBC,W;;;AAYpB;AACA;AACA;AACA;AACA;AACA;;AAEA,wBACA;AAAA;;AAAA;;AAGC,QAAKC,uBAAL,GAA+B,MAAKA,uBAAL,CAA6BC,IAA7B,OAA/B;AACA;AACA;AALD;AAMC;;;;2BAGD;AAAA,gBAC+B,KAAKC,KADpC;AAAA,OACSC,QADT,UACSA,QADT;AAAA,OACsBC,IADtB;;AAGC,UACC;AAAA;AAAA;AACC,mBAAe,KAAKJ,uBADrB;AAEC,kBAAc,KAAKA;AAFpB,OAGMI,IAHN;AAIGD;AAJH,IADD;AAQA;;;0CAEuBE,K,EACxB;AACC,OAAI,CAAC,KAAKC,IAAN,IAAc,CAAC,KAAKC,WAAxB,EACA;AACC;AACA;;AAED;AACA,OAAI,KAAKD,IAAL,CAAUE,OAAV,GAAoBC,QAApB,CAA6BJ,MAAMK,MAAnC,KACA,KAAKH,WAAL,CAAiBC,OAAjB,GAA2BC,QAA3B,CAAoCJ,MAAMK,MAA1C,CADJ,EAEA;AACC;AACA;;AAED,QAAKJ,IAAL,CAAUK,IAAV;AACA;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;oCAGA;AAAA;;AACC,OAAMC,UACN;AACCC,8BACA;AACCC,aAAS;AAAA,aAAM,OAAKR,IAAL,CAAUQ,MAAV,EAAN;AAAA,MADV;;AAGCC,eAAU,kBAACT,IAAD,EACV;AACC,UAAI,OAAKA,IAAT,EACA;AACC,aAAM,IAAIU,KAAJ,CAAU,kDAAV,CAAN;AACA;;AAED,aAAKV,IAAL,GAAYA,IAAZ;;AAEA,aAAO;AAAA,cAAM,OAAKA,IAAL,GAAYW,SAAlB;AAAA,OAAP;AACA,MAbF;;AAeCC,2BAAsB,8BAACX,WAAD,EACtB;AACC,UAAI,OAAKA,WAAT,EACA;AACC,aAAM,IAAIS,KAAJ,CAAU,yDAAV,CAAN;AACA;;AAED,aAAKT,WAAL,GAAmBA,WAAnB;;AAEA,aAAO;AAAA,cAAM,OAAKA,WAAL,GAAmBU,SAAzB;AAAA,OAAP;AACA;AAzBF;AAFD,IADA;;AAgCA,UAAOL,OAAP;AACA;;;;EArHuCf,S;;AAApBE,W,CAEboB,iB,GACP;AACCN,2BAA2Bf,UAAUsB,KAAV,CAC1B;AACAN,UAAWhB,UAAUuB,IAAV,CAAeC,UAD1B;AAEAP,YAAWjB,UAAUuB,IAAV,CAAeC;AAF1B,EAD0B,EAK1BA,UANF,E;eAHoBvB,W","file":"PageAndMenu.js","sourcesContent":["import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nexport default class PageAndMenu extends Component\r\n{\r\n\tstatic childContextTypes =\r\n\t{\r\n\t\treact_responsive_ui_menu : PropTypes.shape\r\n\t\t({\r\n\t\t\ttoggle   : PropTypes.func.isRequired,\r\n\t\t\tregister : PropTypes.func.isRequired\r\n\t\t})\r\n\t\t.isRequired\r\n\t}\r\n\r\n\t// state =\r\n\t// {\r\n\t// \tshow_menu  : false,\r\n\t// \tmenu_width : 0,\r\n\t// \tpage_moved_aside : false\r\n\t// }\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper()\r\n\r\n\t\tthis.hide_menu_on_mouse_down = this.hide_menu_on_mouse_down.bind(this)\r\n\t\t// this.toggle_menu        = this.toggle_menu.bind(this)\r\n\t\t// this.update_menu_width  = this.update_menu_width.bind(this)\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\tconst { children, ...rest } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tonTouchStart={ this.hide_menu_on_mouse_down }\r\n\t\t\t\tonMouseDown={ this.hide_menu_on_mouse_down }\r\n\t\t\t\t{ ...rest }>\r\n\t\t\t\t{ children }\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\thide_menu_on_mouse_down(event)\r\n\t{\r\n\t\tif (!this.menu || !this.menu_button)\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// Hide the menu only if clicked outside\r\n\t\tif (this.menu.element().contains(event.target)\r\n\t\t\t|| this.menu_button.element().contains(event.target))\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.menu.hide()\r\n\t}\r\n\r\n\t// toggle_menu()\r\n\t// {\r\n\t// \tif (!this.state.show_menu)\r\n\t// \t{\r\n\t// \t\treturn this.setState({ show_menu: !this.state.show_menu, page_moved_aside: !this.state.page_moved_aside })\r\n\t// \t}\r\n\t//\r\n\t// \tthis.setState({ show_menu: !this.state.show_menu }, () =>\r\n\t// \t{\r\n\t// \t\t// Requires a corresponding `clearTimeout()`` in `componentWillUnmount()``\r\n\t// \t\tsetTimeout(() =>\r\n\t// \t\t{\r\n\t// \t\t\tthis.setState({ page_moved_aside: this.state.show_menu })\r\n\t// \t\t},\r\n\t// \t\tmenu_transition_duration)\r\n\t// \t})\r\n\t// }\r\n\r\n\t// update_menu_width(width)\r\n\t// {\r\n\t// \tthis.setState({ menu_width: width })\r\n\t// }\r\n\r\n\tgetChildContext()\r\n\t{\r\n\t\tconst context =\r\n\t\t{\r\n\t\t\treact_responsive_ui_menu:\r\n\t\t\t{\r\n\t\t\t\ttoggle : () => this.menu.toggle(),\r\n\r\n\t\t\t\tregister: (menu) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tif (this.menu)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthrow new Error('There already is a menu registered for this page')\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.menu = menu\r\n\r\n\t\t\t\t\treturn () => this.menu = undefined\r\n\t\t\t\t},\r\n\r\n\t\t\t\tregister_menu_button: (menu_button) =>\r\n\t\t\t\t{\r\n\t\t\t\t\tif (this.menu_button)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthrow new Error('There already is a menu button registered for this page')\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.menu_button = menu_button\r\n\r\n\t\t\t\t\treturn () => this.menu_button = undefined\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn context\r\n\t}\r\n}"]}