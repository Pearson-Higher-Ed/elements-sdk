{"version":3,"sources":["../../source/utility/dom.js"],"names":["submitFormOnCtrlEnter","submitContainingForm","getScrollbarWidth","event","component","ctrlKey","metaKey","keyCode","findDOMNode","preventDefault","node","parentElement","HTMLFormElement","submit","querySelector","click"],"mappings":";;;;;QAGgBA,qB,GAAAA,qB;QAYAC,oB,GAAAA,oB;QAmBAC,iB,GAAAA,iB;;AAlChB;;;;;;AAEA;AACO,SAASF,qBAAT,CAA+BG,KAA/B,EAAsCC,SAAtC,EACP;AACC,KAAI,CAACD,MAAME,OAAN,IAAiBF,MAAMG,OAAxB,KAAoCH,MAAMI,OAAN,KAAkB,EAA1D,EACA;AACC,MAAIN,qBAAqB,mBAASO,WAAT,CAAqBJ,SAArB,CAArB,CAAJ,EACA;AACCD,SAAMM,cAAN;AACA,UAAO,IAAP;AACA;AACD;AACD;;AAEM,SAASR,oBAAT,CAA8BS,IAA9B,EACP;AACC,QAAOA,KAAKC,aAAZ,EACA;AACCD,SAAOA,KAAKC,aAAZ;AACA,MAAID,gBAAgBE,eAApB,EACA;AACC;AACA;AACA,OAAMC,SAASH,KAAKI,aAAL,CAAmB,qBAAnB,CAAf;AACA,OAAID,MAAJ,EACA;AACCA,WAAOE,KAAP;AACA,WAAO,IAAP;AACA;AACD;AACD;AACD;;AAEM,SAASb,iBAAT,GACP;AACC;AACA;AACA;AACA;AACA;;AAEA,QAAO,EAAP;AACA","file":"dom.js","sourcesContent":["import ReactDOM from 'react-dom'\r\n\r\n// Submits the form on `Ctrl` + `Enter` (or `Cmd` + `Enter`).\r\nexport function submitFormOnCtrlEnter(event, component)\r\n{\r\n\tif ((event.ctrlKey || event.metaKey) && event.keyCode === 13)\r\n\t{\r\n\t\tif (submitContainingForm(ReactDOM.findDOMNode(component)))\r\n\t\t{\r\n\t\t\tevent.preventDefault()\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function submitContainingForm(node)\r\n{\r\n\twhile (node.parentElement)\r\n\t{\r\n\t\tnode = node.parentElement\r\n\t\tif (node instanceof HTMLFormElement)\r\n\t\t{\r\n\t\t\t// Won't use `node.submit()` because it bypasses `onSubmit`.\r\n\t\t\t// Will click the submit button instead.\r\n\t\t\tconst submit = node.querySelector('button[type=submit]')\r\n\t\t\tif (submit)\r\n\t\t\t{\r\n\t\t\t\tsubmit.click()\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function getScrollbarWidth()\r\n{\r\n\t// // `window.innerWidth` has a bug:\r\n\t// // it's decreases as the page scale is increased.\r\n\t// // Therefore not using it.\r\n\t// // (Full width) - (Width minus scrollbar)\r\n\t// return document.body.clientWidth - window.innerWidth\r\n\r\n\treturn 17\r\n}\r\n"]}