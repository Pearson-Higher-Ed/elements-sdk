{"version":3,"sources":["../source/Switch.js"],"names":["Switch","state","onKeyDown","event","props","input","storeInputComponent","_","toggle","bind","fallback","setState","javascript","value","disabled","indicateInvalid","error","style","className","leftLabel","rightLabel","children","input_style","name","onChange","propTypes","string","bool","isRequired","func","node","object","defaultProps","position","opacity","margin","width","height"],"mappings":"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","file":"Switch.js","sourcesContent":["import React, { PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport { submitFormOnCtrlEnter } from './utility/dom'\r\n\r\n// http://wd.dizaina.net/en/experiments/ios7-style-switch/\r\n\r\n// An iOS-style switch\r\nexport default class Switch extends PureComponent\r\n{\r\n\tstate = {}\r\n\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// HTML form input `name` attribute\r\n\t\tname      : PropTypes.string,\r\n\r\n\t\t// Disables the switch\r\n\t\tdisabled  : PropTypes.bool,\r\n\r\n\t\t// Either `true` or `false`\r\n\t\tvalue     : PropTypes.bool.isRequired,\r\n\r\n\t\t// Is called when the switch is switched\r\n\t\tonChange  : PropTypes.func.isRequired,\r\n\r\n\t\t// (exotic use case)\r\n\t\t// Falls back to a plain HTML input\r\n\t\t// when javascript is disabled (e.g. Tor)\r\n\t\tfallback  : PropTypes.bool.isRequired,\r\n\r\n\t\t// The label to the left of the switch\r\n\t\tleftLabel : PropTypes.string,\r\n\r\n\t\t// The label to the right of the switch\r\n\t\trightLabel : PropTypes.string,\r\n\r\n\t\t// A label (analogous to `leftLabel`)\r\n\t\tchildren  : PropTypes.node,\r\n\r\n\t\t// CSS style object\r\n\t\tstyle     : PropTypes.object,\r\n\r\n\t\t// CSS class\r\n\t\tclassName : PropTypes.string\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\tvalue    : false,\r\n\t\tfallback : false\r\n\t}\r\n\r\n\tconstructor()\r\n\t{\r\n\t\tsuper()\r\n\r\n\t\tthis.toggle = this.toggle.bind(this)\r\n\t}\r\n\r\n\t// Client side rendering, javascript is enabled\r\n\tcomponentDidMount()\r\n\t{\r\n\t\tconst { fallback } = this.props\r\n\r\n\t\tif (fallback)\r\n\t\t{\r\n\t\t\tthis.setState({ javascript: true })\r\n\t\t}\r\n\t}\r\n\r\n\tonKeyDown = (event) =>\r\n\t{\r\n\t\tconst { onKeyDown } = this.props\r\n\r\n\t\tif (onKeyDown)\r\n\t\t{\r\n\t\t\tonKeyDown(event)\r\n\t\t}\r\n\r\n\t\tif (submitFormOnCtrlEnter(event, this.input))\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\t}\r\n\r\n\tstoreInputComponent = _ => this.input = _\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tvalue,\r\n\t\t\tfallback,\r\n\t\t\tdisabled,\r\n\t\t\tindicateInvalid,\r\n\t\t\terror,\r\n\t\t\tstyle,\r\n\t\t\tclassName,\r\n\t\t\tleftLabel,\r\n\t\t\trightLabel,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\treturn (\r\n\t\t\t<label\r\n\t\t\t\tclassName={ classNames('rrui__switch',\r\n\t\t\t\t{\r\n\t\t\t\t\t'rrui__rich'             : fallback,\r\n\t\t\t\t\t'rrui__input'            : children,\r\n\t\t\t\t\t'rrui__switch--label'    : children,\r\n\t\t\t\t\t'rrui__switch--disabled' : disabled\r\n\t\t\t\t},\r\n\t\t\t\tclassName) }\r\n\t\t\t\tstyle={ style }>\r\n\r\n\t\t\t\t{/* Left label */}\r\n\t\t\t\t{ (leftLabel || children) &&\r\n\t\t\t\t\t<div className={ classNames('rrui__switch__label', 'rrui__switch__label--left') }>\r\n\t\t\t\t\t\t{ leftLabel || children }\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{/* The switch */}\r\n\t\t\t\t<div className=\"rrui__switch__switch\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tref={ this.storeInputComponent }\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\t\tonKeyDown={ this.onKeyDown }\r\n\t\t\t\t\t\tonChange={ this.toggle }\r\n\t\t\t\t\t\tstyle={ input_style }/>\r\n\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={ classNames('rrui__switch__groove',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// CSS selector performance optimization\r\n\t\t\t\t\t\t\t'rrui__switch__groove--on' : value\r\n\t\t\t\t\t\t}) }/>\r\n\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName={ classNames('rrui__switch__knob',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// CSS selector performance optimization\r\n\t\t\t\t\t\t\t'rrui__switch__knob--on' : value\r\n\t\t\t\t\t\t}) }/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{/* Right label */}\r\n\t\t\t\t{ rightLabel &&\r\n\t\t\t\t\t<div className={ classNames('rrui__switch__label', 'rrui__switch__label--right') }>\r\n\t\t\t\t\t\t{ rightLabel }\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</label>\r\n\t\t)\r\n\t}\r\n\r\n\t// supports disabled javascript\r\n\trender_static()\r\n\t{\r\n\t\tconst { name, disabled, value } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"rrui__rich__fallback\">\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\tname={ name }\r\n\t\t\t\t\tdisabled={ disabled }\r\n\t\t\t\t\tvalue={ value }/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\ttoggle(event)\r\n\t{\r\n\t\tconst { onChange, disabled, value } = this.props\r\n\r\n\t\tif (disabled)\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tonChange(!value)\r\n\t}\r\n}\r\n\r\nconst input_style =\r\n{\r\n\tposition : 'absolute',\r\n\topacity  : 0,\r\n\tmargin   : 0,\r\n\twidth    : '100%',\r\n\theight   : '100%'\r\n}"]}